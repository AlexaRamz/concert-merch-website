<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"> 
    <title>Merchify</title>
  </head>
  
  <body onload="">
    <div id="main"></div>
    <div id="oauth"></div>

    <img src="imgs/Song.png">
    <div class="sync_text_1">
      Sync streaming service
    </div>
    <div class="sync_text_2">
      personalized recommendations right at your fingertips
    </div>
    <button style="top: 615px;" id="login-button" class="sync_button" type="button" onclick=""> 
      <img class="headphone_icon" src="imgs/Headphone.png">
      Sync with Spotify
    </button>
    <button class="sync_text_3" type="button" onclick="goHomePage()"> 
      Continue as guest
    </button>

    <template id="logged-in-template">
      <h1>Logged in as <span data-bind="display_name"></span></h1>
      <img width="150" data-bind-src="images[0].url" data-bind-alt="display_name" />
      <table>
        <tr>
          <td>Display name</td>
          <td data-bind="display_name"></td>
        </tr>
        <tr>
          <td>Id</td>
          <td data-bind="id"></td>
        </tr>
        <tr>
          <td>Email</td>
          <td data-bind="email"></td>
        </tr>
        <tr>
          <td>Spotify URI</td>
          <td>
            <a data-bind="external_urls.spotify" data-bind-href="external_urls.spotify"></a>
          </td>
        </tr>
        <tr>
          <td>Link </dt>
          <td>
            <a data-bind="href" data-bind-href="href"></a>
          </td>
        </tr>
        <tr>
          <td>Profile Image</td>
          <td>
            <a data-bind-href="images[0].url" data-bind="images[0].url"></a>
          </td>
        </tr>
        <tr>
          <td>Country</td>
          <td data-bind="country"></td>
        </tr>
      </table>

      <button id="refresh-token-button" data-bind-onclick="refreshTokenClick();">Refresh Token</button>
      <button id="logout-button" data-bind-onclick="logoutClick();">Log out</button>
    </template>

    <template id="oauth-template">
      <h2>oAuth info</h2>
      <table>
        <tr>
          <td>Access token</td>
          <td data-bind="access_token"></td>
        </tr>
        <tr>
          <td>Refresh token</td>
          <td data-bind="refresh_token"></td>
        </tr>
        <tr>
          <td>Expiration at</td>
          <td data-bind="expires">${getExpirationDate(expires_in)}</td>
        </tr>
      </table>
    </template>
    <script src="spotifysync.js" type="module"></script>
    <script src="script.js"></script>
  </body>
</html>